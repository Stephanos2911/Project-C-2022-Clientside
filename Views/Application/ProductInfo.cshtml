@model Product
@{
    //loads db context into this page
    var _context = ViewBag.Context as ApplicationDbContext;

    //query for all stores which have been selected for this product
    var StoreLogosofProduct =
        (from store in _context.Stores
            where store.Products.Any(x => x.Id == Model.Id)
            select store.StoreLogo).ToList();


    List<string> storeimage = new List<string>();
    for (int i = 0; i < StoreLogosofProduct.Count; i++)
    {
        storeimage.Add(string.Format("data:image/jpg;base64,{0}", Convert.ToBase64String(StoreLogosofProduct[i])));
    }
    string ImageDataUrl = string.Format("data:image/jpg;base64,{0}", Convert.ToBase64String(Model.ProductImage));
    
}
<html>
<head>
    <link rel="stylesheet" type="text/css" href="~/css/ProductInfo.css">
</head>
<body>
<span id="favorite-indicator"></span>
<div class="square"> 
    <img class="kantelbare" src="@ImageDataUrl">
    <h1>"@Model.Name"</h1>
    <h3>@Model.Price</h3>
    <img class="bollogo" src="@storeimage[0]">
    
    @{
        double pixels = (@Model.Price / 300) * 1050;
        int pixelstoInt = (int) pixels;
        string tekst = $"{pixelstoInt}px";
    }

    <div class="arrow-down" style="left: @tekst "></div>
    <table>
        <tr>
            <td class="color1" style="color: white;">€ 0</td>
            <td class="color2"></td>
            <td class="color3" style="text-align:right;color: white;" > € 300</td>
        </tr>
    </table>


</div>
<button class="video" onclick="showVideo()">Video</button>
<div id="videoModal" class="modal">
    <span class="close" onclick="closeVideo()">&times;</span>
    <div class="videocontent">
        <iframe class= "videocontent" src="https://www.youtube.com/embed/wT9WivR6i1I" title="Beginvideo SOL" borderbegin="0">
                </iframe>
    </div>
</div>

    </div>
</div>
<button class="beschrijving" onclick="showDescription()">Beschrijving</button>
<div id="descriptionModal" class="modal">
    <span class="close" onclick="closeDescription()">&times;</span>
    <div class="modal-content">
        <p>Hello World</p>
    </div>
</div>
<script>
    function showDescription() {
        closeVideo();
        var modal = document.getElementById("descriptionModal");
        modal.style.display = "block";
    }

    function closeDescription() {
        var modal = document.getElementById("descriptionModal");
        modal.style.display = "none";
    }

    function showVideo() {
        closeDescription();
        var modal = document.getElementById("videoModal");
            modal.style.display = "block";
        }
    
    function closeVideo() {
        var modal = document.getElementById("videoModal");
            modal.style.display = "none";
        }


</script>



<a asp-action="ProductenOverzicht" asp-controller="Application" class="terug" asp-route-id="@Model.Place">
    <div>
        Terug
    </div>
</a>


<a class="favorieten" id="favorite-button" onclick="toggleFavorite('@Model.Id')">
    <span id="favorite-text"></span>
</a>

<script>
    function toggleFavorite(productId) {
        if (typeof Storage !== "undefined") {
            var isFavorited = localStorage.getItem(`favorited_${productId}`) === 'true';
            localStorage.setItem(`favorited_${productId}`, !isFavorited);
            document.getElementById("favorite-text").innerHTML = !isFavorited ? "Favorited" : "Favorite";
        }
    }
    // check the item if it's already favorited
    if (typeof Storage !== "undefined") {
        var productId = '@Model.Id';
        var isFavorited = localStorage.getItem(`favorited_${productId}`) === 'true';
        document.getElementById("favorite-text").innerHTML = isFavorited ? "Favorited" : "Favorite";
    }

</script>

</body>
</html>